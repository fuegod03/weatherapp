{"ast":null,"code":"var _jsxFileName = \"/Users/jcdev/Projects/weatherapp copy/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport './App.css';\nimport Header from './head/Header.js';\nimport Footer from './footer/Footer.js';\nimport Today from './body/Today.js';\nimport axios from 'axios';\nimport fetchMultiple from 'fetch-multiple';\nimport News from './News.js';\nimport Contact from './Contact.js';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loadingText: \"updating...\",\n      searchByLL: \"\",\n      id: \"\",\n      city: \"\",\n      test: true\n    };\n    this.handleData = this.handleData.bind(this);\n    this.fetchOptionalCurrent = this.fetchOptionalCurrent.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=New York\").then(res => res.json()).then(info => this.setState({\n      newYork: info.current.temp_f\n    })).catch(err => console.log(err.message));\n    fetch(\"http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=Shanghai\").then(res => res.json()).then(info => this.setState({\n      shanghai: info.current.temp_f\n    })).catch(err => console.log(err.message));\n    fetch(\"http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=Washington\").then(res => res.json()).then(info => this.setState({\n      washington: info.current.temp_f\n    })).catch(err => console.log(err.message));\n    fetch(\"http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=Moscow\").then(res => res.json()).then(info => this.setState({\n      moscow: info.current.temp_f\n    })).catch(err => console.log(err.message));\n    fetch(\"http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=Lima\").then(res => res.json()).then(info => this.setState({\n      lima: info.current.temp_f\n    })).catch(err => console.log(err.message));\n    fetch(\"http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=Mexico City\").then(res => res.json()).then(info => this.setState({\n      mexicoCity: info.current.temp_f\n    })).catch(err => console.log(err.message)); //   .catch((err) => console.log(err.message))\n    // .then(data => {\n    //   console.log(data['http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=Lima']);\n    // });\n    // Fetching user location\n    // fetch(\"http://ip-api.com/json\").then((res) => res.json())\n    // .then((info) => this.setState({\n    //     currentLatitude:info.lat,\n    //     currentLongitude:info.lon,\n    //     currentPosition: info.lat.toString() + \",\" + info.lon.toString(),\n    //     uri:'http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q='\n    //\n    // }));\n\n    fetch(\"http://ip-api.com/json\").then(res => res.json()).then(info => this.setState({\n      currentLatitude: info.lat,\n      currentLongitude: info.lon,\n      currentPosition: info.lat.toString() + \",\" + info.lon.toString(),\n      uri: 'http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q='\n    })); // Fetching news\n\n    const url = 'https://newsapi.org/v2/top-headlines?' + 'country=us&' + 'apiKey=f8822ecd8b3d4ceb87c8b11367961689';\n    const req = new Request(url);\n    fetch(req).then(res => res.json()).then(news => this.setState({\n      news: news.articles\n    })).catch(err => console.log(err.message)); // Fetching advice\n\n    fetch(\"https://cors-anywhere.herokuapp.com/\" + \"http://quotes.rest/qod.json\").then(res => res.json()).then(quote => this.setState({\n      quote: quote.contents.quotes[0]\n    })).catch(err => console.log(err.message));\n  }\n\n  fetchOptionalCurrent() {\n    fetch(\"https://cors-anywhere.herokuapp.com/\" + this.state.uri + this.state.currentPosition + '&days=7').then(res => res.json()).then(todayInfo => this.setState({\n      todayInfo,\n      currentIcon: todayInfo.current.condition.code,\n      forecast: todayInfo.forecast.forecastday,\n      conditionOneDayAhead: todayInfo.forecast.forecastday[1].day.condition,\n      conditionTwoDayAhead: todayInfo.forecast.forecastday[2].day.condition,\n      conditionThreeDayAhead: todayInfo.forecast.forecastday[3].day.condition,\n      conditionFourthDayAhead: todayInfo.forecast.forecastday[4].day.condition,\n      conditionFifthDayAhead: todayInfo.forecast.forecastday[5].day.condition,\n      conditionSixthDayAhead: todayInfo.forecast.forecastday[6].day.condition,\n      currentCountry: todayInfo.location.country\n    })).catch(err => console.log(err.message));\n  }\n\n  handleData(data) {\n    this.setState({\n      city: data\n    });\n    fetch(this.state.uri + this.state.city + '&days=7').then(res => res.json()).then(todayInfo => this.setState({\n      todayInfo,\n      currentIcon: todayInfo.current.condition.code\n    })).catch(err => console.log(err.message));\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.state.city) {\n      fetch(this.state.uri + this.state.city + '&days=7').then(res => res.json()).then(todayInfo => this.setState({\n        todayInfo,\n        currentIcon: todayInfo.current.condition.code\n      })).catch(err => console.log(err.message));\n    }\n  }\n\n  render() {\n    {\n      console.log(this.state);\n    }\n    {\n      if (this.state.currentPosition) {\n        if (this.state.test) {\n          this.fetchOptionalCurrent();\n          this.setState({\n            test: false\n          });\n        } else {\n          console.log(\"nor\");\n        }\n      }\n    }\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: props => React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Header, {\n        todayInfo: this.state.todayInfo,\n        currentIcon: this.state.currentIcon,\n        currentLocation: this.state.currentLocation,\n        loading: this.state.loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(Today, Object.assign({}, this.state, {\n        handlerFromHead: this.handleData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/about\",\n      render: routeProps => React.createElement(Header, Object.assign({}, routeProps, {\n        todayInfo: this.state.todayInfo,\n        handlerFromHead: this.handleData,\n        currentIcon: this.state.currentIcon,\n        currentLocation: this.state.currentLocation,\n        loading: this.state.loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/news\",\n      render: routeProps => React.createElement(News, Object.assign({}, routeProps, {\n        currentCountry: this.state.currentCountry,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/contact\",\n      render: routeProps => React.createElement(Contact, Object.assign({}, routeProps, {\n        todayInfo: this.state.todayInfo,\n        handlerFromHead: this.handleData,\n        currentIcon: this.state.currentIcon,\n        currentLocation: this.state.currentLocation,\n        loading: this.state.loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/jcdev/Projects/weatherapp copy/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Header","Footer","Today","axios","fetchMultiple","News","Contact","App","constructor","state","loadingText","searchByLL","id","city","test","handleData","bind","fetchOptionalCurrent","componentDidMount","fetch","then","res","json","info","setState","newYork","current","temp_f","catch","err","console","log","message","shanghai","washington","moscow","lima","mexicoCity","currentLatitude","lat","currentLongitude","lon","currentPosition","toString","uri","url","req","Request","news","articles","quote","contents","quotes","todayInfo","currentIcon","condition","code","forecast","forecastday","conditionOneDayAhead","day","conditionTwoDayAhead","conditionThreeDayAhead","conditionFourthDayAhead","conditionFifthDayAhead","conditionSixthDayAhead","currentCountry","location","country","data","componentDidUpdate","prevProps","prevState","snapshot","render","props","currentLocation","loading","routeProps"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport {BrowserRouter as Router, Route } from 'react-router-dom'\nimport './App.css';\nimport Header from './head/Header.js'\nimport Footer from './footer/Footer.js'\nimport Today from './body/Today.js'\nimport axios from 'axios';\nimport fetchMultiple from 'fetch-multiple';\nimport News from './News.js'\nimport Contact from './Contact.js'\n\n\nclass App extends Component {\nconstructor(){\n\nsuper()\n this.state ={\n  loadingText:\"updating...\",\n    searchByLL:\"\",\n    id:\"\",\n    city:\"\",\n    test:true\n}\n  this.handleData = this.handleData.bind(this);\n  this.fetchOptionalCurrent=this.fetchOptionalCurrent.bind(this)\n}\n\n\ncomponentDidMount() {\n\n\n\n  fetch(\"http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=New York\").then((res) => res.json())\n  .then((info) => this.setState({\n      newYork:info.current.temp_f\n\n  }))\n      .catch((err) => console.log(err.message));\n\n      fetch(\"http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=Shanghai\").then((res) => res.json())\n      .then((info) => this.setState({\n          shanghai:info.current.temp_f\n\n      }))\n          .catch((err) => console.log(err.message));\n\n          fetch(\"http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=Washington\").then((res) => res.json())\n          .then((info) => this.setState({\n              washington:info.current.temp_f\n\n          }))\n              .catch((err) => console.log(err.message));\n\n              fetch(\"http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=Moscow\").then((res) => res.json())\n              .then((info) => this.setState({\n                  moscow:info.current.temp_f\n\n              }))\n                  .catch((err) => console.log(err.message));\n\n                  fetch(\"http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=Lima\").then((res) => res.json())\n                  .then((info) => this.setState({\n                    lima:info.current.temp_f\n\n                  }))\n                      .catch((err) => console.log(err.message));\n\n                      fetch(\"http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=Mexico City\").then((res) => res.json())\n                      .then((info) => this.setState({\n                        mexicoCity:info.current.temp_f\n\n                      }))\n                          .catch((err) => console.log(err.message));\n\n\n    //   .catch((err) => console.log(err.message))\n    // .then(data => {\n    //   console.log(data['http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q=Lima']);\n    // });\n  // Fetching user location\n\n  // fetch(\"http://ip-api.com/json\").then((res) => res.json())\n  // .then((info) => this.setState({\n  //     currentLatitude:info.lat,\n  //     currentLongitude:info.lon,\n  //     currentPosition: info.lat.toString() + \",\" + info.lon.toString(),\n  //     uri:'http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q='\n  //\n  // }));\n  fetch( \"http://ip-api.com/json\").then((res) => res.json())\n  .then((info) => this.setState({\n      currentLatitude:info.lat,\n      currentLongitude:info.lon,\n      currentPosition: info.lat.toString() + \",\" + info.lon.toString(),\n      uri:'http://api.apixu.com/v1/forecast.json?key=82fe923258fa4530a5e235322192604&q='\n\n  }));\n\n\n\n    // Fetching news\n    const url = 'https://newsapi.org/v2/top-headlines?' +\n              'country=us&' +\n              'apiKey=f8822ecd8b3d4ceb87c8b11367961689';\n    const req = new Request(url);\n    fetch(req)\n    .then((res) => res.json())\n    .then((news) => this.setState({\n        news:news.articles\n    })).catch((err) => console.log(err.message));\n\n\n\n    // Fetching advice\n        fetch(\"https://cors-anywhere.herokuapp.com/\" + \"http://quotes.rest/qod.json\").then((res) => res.json())\n        .then((quote) => this.setState({\n           quote:quote.contents.quotes[0]\n        }))\n            .catch((err) => console.log(err.message));\n}\n\n\nfetchOptionalCurrent(){\n\n  fetch(\"https://cors-anywhere.herokuapp.com/\" + this.state.uri + this.state.currentPosition + '&days=7').then((res) => res.json())\n  .then((todayInfo) => this.setState({\n      todayInfo,\n      currentIcon:todayInfo.current.condition.code,\n      forecast:todayInfo.forecast.forecastday,\n      conditionOneDayAhead:todayInfo.forecast.forecastday[1].day.condition,\n      conditionTwoDayAhead:todayInfo.forecast.forecastday[2].day.condition,\n      conditionThreeDayAhead:todayInfo.forecast.forecastday[3].day.condition,\n      conditionFourthDayAhead:todayInfo.forecast.forecastday[4].day.condition,\n      conditionFifthDayAhead:todayInfo.forecast.forecastday[5].day.condition,\n      conditionSixthDayAhead:todayInfo.forecast.forecastday[6].day.condition,\n      currentCountry:todayInfo.location.country\n  }))\n      .catch((err) => console.log(err.message));\n}\n\n\nhandleData(data) {\n  this.setState({\n    city: data\n  });\n  fetch( this.state.uri + this.state.city+ '&days=7').then((res) => res.json())\n  .then((todayInfo) => this.setState({\n      todayInfo,\n      currentIcon:todayInfo.current.condition.code\n  }))\n      .catch((err) => console.log(err.message))\n}\n\ncomponentDidUpdate(prevProps, prevState, snapshot){\nif(this.state.city){\n  fetch( this.state.uri + this.state.city+ '&days=7').then((res) => res.json())\n  .then((todayInfo) => this.setState({\n      todayInfo,\n      currentIcon:todayInfo.current.condition.code\n  }))\n      .catch((err) => console.log(err.message))\n}\n}\n\n\n\nrender (){\n{console.log(this.state)}\n  {\nif(this.state.currentPosition){\n  if(this.state.test ){\n this.fetchOptionalCurrent();\n this.setState({\n   test:false\n })}else{ console.log(\"nor\")\n }\n}\n}\n  return (\n    <div>\n    <Router >\n   <Route exact path=\"/\" render={props => (\n       <React.Fragment>\n         <Header todayInfo={this.state.todayInfo}  currentIcon={this.state.currentIcon}  currentLocation={this.state.currentLocation} loading={this.state.loading}/>\n         <div className=\"App\">\n         <Today {...this.state} handlerFromHead={this.handleData} />\n         </div>\n         <Footer />\n              </React.Fragment>\n     )} />\n     <Route  path=\"/about\"\n       render ={(routeProps) => ( <Header {...routeProps} todayInfo={this.state.todayInfo} handlerFromHead={this.handleData} currentIcon={this.state.currentIcon}  currentLocation={this.state.currentLocation} loading={this.state.loading}/> )}\n       />\n     <Route  path=\"/news\"\n    render ={(routeProps) => ( <News {...routeProps} currentCountry={this.state.currentCountry}/> )}\n    />\n  <Route  path=\"/contact\"\n      render ={(routeProps) => ( <Contact {...routeProps} todayInfo={this.state.todayInfo} handlerFromHead={this.handleData} currentIcon={this.state.currentIcon}  currentLocation={this.state.currentLocation} loading={this.state.loading}/> )}\n      />\n   </Router>\n\n\n    </div>\n  );\n}\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}